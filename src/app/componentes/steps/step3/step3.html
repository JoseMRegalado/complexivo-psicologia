<app-header></app-header>
<app-progress-bar [step]="3"></app-progress-bar>
<section class="estudio-de-caso">
  <div class="caso">

    <div class="texto">
      <h2>Estudio de caso: Trastorno del estado de ánimo</h2>
      <p>Un paciente de 35 años acude a consulta tras ser referido por su empleador debido a conflictos recurrentes
        con compañeros de trabajo. Durante la entrevista, muestra desconfianza hacia el terapeuta y sugiere que "todo
        el mundo está en su contra". Describe patrones persistentes de dificultad para establecer relaciones cercanas
        y acusa a otros de tener "segundas intenciones". Aunque tiene un historial laboral estable, manifiesta poca
        satisfacción personal y frecuentes sentimientos de irritación y soledad. No hay antecedentes de abuso de
        sustancias ni de enfermedad psiquiátrica diagnosticada previamente.</p>
    </div>

    <div class="preguntas">
      <div class="titulo-pregunta" *ngIf="preguntaActual">
        <h3>{{ preguntaActual()?.title }}</h3>
      </div>
      <div class="contenido-pregunta">
        <h3>{{ preguntaActual()?.title }}</h3>
        <p>{{ preguntaActual()?.description }}</p>
      </div>
      <div class="respuesta">
        <textarea rows="4" cols="50" placeholder="Escribe tu respuesta aquí" [(ngModel)]="miRespuesta"></textarea>
      </div>
      <div class="acciones">
        <button *ngIf="preguntaActualIndex > 0" class="boton-anterior" (click)="preguntaAnterior()">Anterior</button>
        <button *ngIf="preguntaActualIndex < preguntas.length - 1" class="boton-siguiente" (click)="siguientePregunta()">Siguiente</button>
        <button *ngIf="preguntaActualIndex === preguntas.length - 1" class="boton-finalizar" [routerLink]="['/simulations']" (click)="finalizarSimulacion()">Finalizar</button>
        <button class="boton-chatgpt" (click)="mostrarRespuestaEnChatGpt()">Chat GPT</button>
      </div>
    </div>


    </div>


    <div class="chatgpt-respuesta">

      <div class="enviar-respuesta">
        <h3>Chat GPT</h3>
        <button (click)="enviarRespuesta()">Enviar</button>
      </div>
    <h4>Mi respuesta</h4>
    <textarea *ngIf="mostrarChatGptRespuesta" rows="4" cols="50" placeholder="Mi respuesta" [(ngModel)]="miRespuesta" readonly></textarea>

      <div class="chatgpt-analisis" >
        <h4>Análisis de Chat GPT</h4>
        <p>{{ analisisChatGpt }}</p>
        <button (click)="limpiar()">Limpiar</button>
      </div>


  </div>
</section>
